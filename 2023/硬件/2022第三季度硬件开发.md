# RTK定位装置更新
## 核心目标
通过使用这个装置，得到室外任意点位的厘米级精度定位数据并且根据已有的基准点进行姿态转换，从而实现采集点和基准点相对关系的对齐。
## 2022/07/25问题
航向角置信区间90%的值较小，但是由于没有滤波，导致当出现极值时，相对误差会比较大，当最大值和最小值同时出现时，会比平均误差大3~4倍  
为了解决极值导致的整体数据比较稳定，但是随机采样过程中的较大误差，需要使用一段时间的平均值或者中值作为实际输出的航向角数值
## 前置工作
1. 实现ntrip协议和千寻服务器的通讯  
2. 实现串口的读写以及输出GPGGA以及航向角的解析
3. 实现tkinter界面的实时刷新以及QRcode的生成
## 目前需要的工作
1. 航向角根据最近的10~30个数据求中值减小跳变的幅度。
2. 根据不同需求写不同的内容的文件，包括输出高度或输出航向角以及时间的，后续处理可能用excel，写在本地用穿透后scp复制出来。


# 激光雷达采集设备多传感器数据对齐
## 核心目标
采集原始数据经过处理后以自己定义的格式对齐  
有三类数据，点云，工业相机照片，全景照片  
其中工业相机和点云融合成彩色的点云xyzrgb格式
全景照片和移动点云slam计算中的odometry，或者架站式点云的原点变换后的更新点对齐  
## 2022/07/25需要解决的问题
1. 算法的工程化  
   目前需要线性化处理，具体步骤如下：  
1）点云数据和工业相机数据生成xyzrgb格式的点云片段  
2）彩色的点云片段根据架站还是slam的方法决定拼接方法，架站使用icp拼接和旋转的方式，锚点基于不同的站点，根据锚点生成json配置文件，点位根据标号确定，不需要和时间戳产生关联。slam使用odometry作为锚点的依据，由于生成的原始odometry是10hz的，为了匹配全景照片的频率，原始输出的odometry文件经过处理后生成类似目前结构的json文件  
3）点云以ply或者pcd的片段或者合成后的结果保存(文件夹或者是单一文件)，json文件和对应的照片以文件夹和json配置文件的方式保存
## 前置工作
1. 激光雷达终端的数据采集录制功能
2. 原始rosbag的处理方法以及建图方法
3. odometry文件根据时间以及x,y,z的输出原始txt文件
## 目前需要的工作
1. odometry.txt文件的筛选和处理方法C++程序
2. 架站式激光雷达的拼接方法测试以及手动拼接方法测试以及输出对应的锚点坐标
3. 全景照片和锚点对齐后，如何和点云在同一场景中匹配(目前这种模式只有rcs文件有，我们需要在unity中复现)

# 点云数据可视化
## 目标
将生成的点云基于open3d的python程序可视化查看  
## 前置工作
彩色点云使用slam或者架站的方式，从rosbag转换成ply或者pcd格式的点云
##目前需要的工作
定义交互方式，如何选择点云文件以及打开点云文件后如何查看，目前看open3d可以实现这个功能

